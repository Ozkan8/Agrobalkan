<div th:fragment="dashContent" class="dash_tab dash_usersTab">

    <div class="dash_tabContent">

        <button type="button" class="btn btn-success btn" data-toggle="modal" data-target="#myModal">Add new user</button>

        <!-- Modal -->
        <div id="myModal" class="modal fade" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content" style="padding: 5px !important;">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Add new user</h4>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal" th:action="@{/dashboard/users}" th:object="${user}"  th:method="post">
                            <div class="form-group">
                                <label class="control-label col-sm-2">Name:</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" name="name">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2">Surname:</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" name="surname">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2">Email:</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" name="email">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2">Username:</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" name="username">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-2">Password:</label>
                                <div class="col-sm-10">
                                    <input type="password" class="form-control" id="pwd" name="password">
                                </div>
                            </div>
                            <div class="form-group">
                                <label style="margin-left: 0px; padding-right: 27px;">Choose Role:</label>
                                <select style="display: inline !important; width: 150px !important;" th:field="*{role.id}" class="form-control">
                                    <option th:each="userRole : ${userRoles}"
                                            th:value="${userRole.id}"
                                            th:text="${userRole.getRoleNameWithoutPrefix(userRole.name)}"
                                            th:selected="${userRole==1}">
                                    </option>
                                </select>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <button type="submit" class="btn btn-default">Submit</button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>

            </div>
        </div>

        <table class="table" style="margin-top: 25px;">
            <thead>
            <tr>
                <th>#</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Username</th>
                <th>Email</th>
                <th>Role</th>
                <!-- <th>Status</th> Active/Disabled => if its disabled, user cant login -->
            </tr>
            </thead>
            <tbody>
                <tr th:each="user : ${users}">
                    <td scope="row" th:text="${user.id}"></td>
                    <td th:text="${user.name}"></td>
                    <td th:text="${user.surname}"></td>
                    <td th:text="${user.username}"></td>
                    <td th:text="${user.email}"></td>
                    <td th:text="${user.role.getRoleNameWithoutPrefix(user.role.name)}"></td>
                </tr>
            </tbody>
        </table>

    </div>

</div>
